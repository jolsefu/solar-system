<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Neptune - Solar System</title>
    <meta name="description" content="Neptune Environment - A-Frame" />

    <!-- NES.css -->
    <link
      href="https://unpkg.com/nes.css@latest/css/nes.min.css"
      rel="stylesheet"
    />
    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <!-- Main CSS Files -->
    <link rel="stylesheet" href="/src/styles/planet-environment.css" />

    <!-- AFrame -->
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>

    <!--
      https://github.com/handeyeco/aframe-star-system-component
    -->
    <script src="../aframe-star-system-component/bare_index.js"></script>

    <!--
      https://github.com/DougReeder/aframe-simple-sun-sky
    -->
    <script src="https://unpkg.com/aframe-simple-sun-sky@^1.2.3/simple-sun-sky.js"></script>
  </head>
  <body>
    <!-- Back Button -->
    <button id="back-btn" class="nes-btn is-primary" onclick="window.location.href='/'">
        Back to Solar System
    </button>

    <!-- Planet Info Toggle Button -->
    <button id="planet-info-toggle" class="nes-btn is-primary planet-info-toggle">
      ℹ
    </button>

    <div class="planet-info">
      <h1>Neptune</h1>
      <p>Neptune is the furthest known planet from the Sun, a dark and cold ice giant similar in composition to Uranus. It is an extremely turbulent world, hosting the strongest winds in the solar system that can reach speeds of 1,200 miles per hour—faster than the speed of sound.</p>
      <button id="play-voiceover" class="nes-btn is-success">▶ Play Voiceover</button>
    </div>

    <script>
      // Planet info toggle
      const planetInfo = document.querySelector('.planet-info');
      const planetInfoToggle = document.getElementById('planet-info-toggle');

      planetInfoToggle.addEventListener('click', () => {
        planetInfo.classList.toggle('open');
        planetInfoToggle.classList.toggle('info-open');
      });

      // Voiceover functionality
      const voiceoverBtn = document.getElementById('play-voiceover');
      const voiceover = new Audio('/audio/Neptune.mp3');

      voiceoverBtn.addEventListener('click', () => {
        if (voiceover.paused) {
          voiceover.play();
          voiceoverBtn.textContent = '⏸ Pause Voiceover';
        } else {
          voiceover.pause();
          voiceoverBtn.textContent = '▶ Play Voiceover';
        }
      });

      voiceover.addEventListener('ended', () => {
        voiceoverBtn.textContent = '▶ Play Voiceover';
      });
    </script>    <a-scene>
      <!-- Camera - floating in ice giant atmosphere -->
      <a-entity id="rig" position="0 10 0">
        <a-camera wasd-controls look-controls>
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>

      <!-- Thick fog - deep blue stormy atmosphere -->
      <a-scene fog="type: linear; color: #4682B4; near: 5; far: 50"></a-scene>

      <!-- Very distant cold sun through thick atmosphere -->
      <a-simple-sun-sky
        sun-position="0.7 0.4 -1"
        light-color="#7BA3D6"
        dark-color="#2F5F8F"
        fog-color="#4682B4"
        radius="10000"
      ></a-simple-sun-sky>
      <a-entity light="type: ambient; color: #5A8AC3; intensity: 0.3"></a-entity>
      <a-entity light="type: directional; color: #6495ED; intensity: 0.2" position="0.7 0.4 -1"></a-entity>

      <!-- Fewer stars - thick ice giant atmosphere, furthest from sun -->
      <a-entity star-system="radius: 500; count: 350;"></a-entity>
    </a-scene>
  </body>
</html>
